{% extends "layout.html" %}
{% load staticfiles %}
{% load i18n %}
{% load bootstrap3 %}
{% comment "License" %}
    * OSIS stands for Open Student Information System. It's an application
    * designed to manage the core business of higher education institutions,
    * such as universities, faculties, institutes and professional schools.
    * The core business involves the administration of students, teachers,
    * courses, programs and so on.
    *
    * Copyright (C) 2015-2018 Université catholique de Louvain (http://www.uclouvain.be)
    *
    * This program is free software: you can redistribute it and/or modify
    * it under the terms of the GNU General Public License as published by
    * the Free Software Foundation, either version 3 of the License, or
    * (at your option) any later version.
    *
    * This program is distributed in the hope that it will be useful,
    * but WITHOUT ANY WARRANTY; without even the implied warranty of
    * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    * GNU General Public License for more details.
    *
    * A copy of this license - GNU General Public License - is available
    * at the root of the source code of this program.  If not,
    * see http://www.gnu.org/licenses/.
{% endcomment %}

{% block breadcrumbarea %}
{% endblock %}
{% block content %}
    <div class="container">
        <div class="row">
            {% bootstrap_form form %}
            <div>
                <div>
                    <h2>Bacheliers universitaires</h2>
                    <table class="table table-bordered">
                        <thead>
                        <tr>
                            <th width="30%">{% trans 'Diploma' %}</th>
                            <th width="30%">{% trans 'Conditions' %}</th>
                            <th width="150px">{% trans 'Access' %}</th>
                            <th>{% trans 'Remarks' %}</th>
                            <th>{% trans 'Actions' %}</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% with section=records.bacheliers_ucl %}
                        <tr>
                            <td colspan="5" class="info">{{ section.name }} <a class="button line-add-btn" href="#"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a></td>
                        </tr>
                        {% for record in section.records %}
                        <tr>
                            <td>{{ record.diploma }}</td>
                            <td>{{ record.conditions }}</td>
                            <td class="text-right">{{ record.access }}</td>
                            <td>{{ record.remarks }}</td>
                            <td class="text-right">
                                <a href="#" role="button" class="button line-remove-btn">
                                <span class="glyphicon glyphicon-remove-circle" style="font-size: 16px;" aria-hidden="true"></span>
                                </a>
                                <a href="#" role="button" class="button line-edit-btn">
                                    <span class="glyphicon glyphicon-edit" style="font-size: 16px;" aria-hidden="true"></span>
                                </a>
                            </td>
                        </tr>
                        {% endfor %}
                        {% endwith %}
                        </tbody>
                    </table>
                </div>
                <div>
                    <h2>Adultes en reprise d'études <a href="#" role="button"><span class="glyphicon glyphicon-edit" style="font-size: 16px;" aria-hidden="true"></span></a></h2>
                    ...
                </div>
                <div>
                    <h2>Accès personnalisé <a href="#" role="button"><span class="glyphicon glyphicon-edit" style="font-size: 16px;" aria-hidden="true"></span></a></h2>
                    ...
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="add_term">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{% trans 'Add a new line' %}</h5>
                </div>
                <div class="modal-body">
                    <ul class="nav nav-tabs" id="myTabs" role="tablist">
                        <li role="presentation" class="active"><a href="#diploma">{% trans 'Diploma' %}</a></li>
                        <li role="presentation"><a href="#conditions">{% trans 'Conditions' %}</a></li>
                        <li role="presentation"><a href="#access">{% trans 'Access' %}</a></li>
                        <li role="presentation"><a href="#remarks">{% trans 'Remarks' %}</a></li>
                    </ul>
                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane" id="diploma">
                            {% trans 'Diploma' %}
                            <textarea name="diplome" id="diplome_editor"></textarea>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="conditions">
                            {% trans 'Conditions' %}
                            <textarea name="conditions" id="conditions_editor"></textarea>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="access">
                            {% trans 'Access' %}
                            <textarea name="access" id="access_editor"></textarea>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="remarks">
                            {% trans 'Remarks' %}
                            <textarea name="remarks" id="remarks_editor"></textarea>
                        </div>

                    </div>
                </div>
                <div class="modal-footer">
                    <button id="pedagogy_remove_add_btn" type="submit" class="btn btn-primary" role="button"
                            title="{% trans 'save' %}">{% trans 'save' %}</button>
                    <button type="submit" class="btn" data-dismiss="modal">{% trans 'cancel' %}</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block script %}
    <script src="{% static 'js/jquery.formset.js' %}"></script>
    <script>
        $('.link-formset').formset({
            addText: gettext('Add another'),
            deleteText: gettext('remove'),
            addCssClass: 'btn btn-info btn-sm',
            deleteCssClass: 'btn btn-warning btn-sm',
            prefix: 'admissionconditionline_set',
        });
        $(".line-add-btn").click(function (evt) {
            evt.preventDefault();
            var modal = $('#add_term');
            $('#diplome').tab('show');
            modal.modal('show');
        });
        $('.line-edit-btn').click(function(evt) {
           evt.preventDefault();
           var modal = $('#add_term');
           modal.modal('show');
        });
        $('#myTabs a').click(function (e) {
            e.preventDefault()
            $(this).tab('show')
        })
        CKEDITOR.replace('remarks_editor');
        CKEDITOR.replace('access_editor');
        CKEDITOR.replace('conditions_editor');
        CKEDITOR.replace('diplome_editor');
    </script>


{% endblock %}